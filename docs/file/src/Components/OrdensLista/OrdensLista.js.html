<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <base data-ice="baseUrl" href="../../../../">
  <title data-ice="title">src/Components/OrdensLista/OrdensLista.js | controle_montagem</title>
  <link type="text/css" rel="stylesheet" href="css/style.css">
  <link type="text/css" rel="stylesheet" href="css/prettify-tomorrow.css">
  <script src="script/prettify/prettify.js"></script>
  <script src="script/manual.js"></script>
</head>
<body class="layout-container" data-ice="rootContainer">

<header>
  <a href="./">Home</a>
  
  <a href="identifiers.html">Reference</a>
  <a href="source.html">Source</a>
  
  <div class="search-box">
  <span>
    <img src="./image/search.png">
    <span class="search-input-edge"></span><input class="search-input"><span class="search-input-edge"></span>
  </span>
    <ul class="search-result"></ul>
  </div>
</header>

<nav class="navigation" data-ice="nav"><div>
  <ul>
    
  <li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-App">App</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-reportWebVitals">reportWebVitals</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-LoginConferencia">LoginConferencia</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-LoginLocalStorage">LoginLocalStorage</a></span></span></li>
<li data-ice="doc"><a data-ice="dirPath" class="nav-dir-path" href="identifiers.html#bd">BD</a><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-mesas">mesas</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-motivosPausas">motivosPausas</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-motivosRetrabalho">motivosRetrabalho</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-turnos">turnos</a></span></span></li>
<li data-ice="doc"><a data-ice="dirPath" class="nav-dir-path" href="identifiers.html#components-botao">Components/Botao</a><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-Botao">Botao</a></span></span></li>
<li data-ice="doc"><a data-ice="dirPath" class="nav-dir-path" href="identifiers.html#components-forminputop">Components/FormInputOP</a><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-FormInputOP">FormInputOP</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-InputsMatricula">InputsMatricula</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-Matriculas">Matriculas</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-Mesa">Mesa</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-NumeroOP">NumeroOP</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-QuantidadeFuncionario">QuantidadeFuncionario</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-Turno">Turno</a></span></span></li>
<li data-ice="doc"><a data-ice="dirPath" class="nav-dir-path" href="identifiers.html#components-header">Components/Header</a><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-Header">Header</a></span></span></li>
<li data-ice="doc"><a data-ice="dirPath" class="nav-dir-path" href="identifiers.html#components-imagem">Components/Imagem</a><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-Imagem">Imagem</a></span></span></li>
<li data-ice="doc"><a data-ice="dirPath" class="nav-dir-path" href="identifiers.html#components-input">Components/Input</a><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-Input">Input</a></span></span></li>
<li data-ice="doc"><a data-ice="dirPath" class="nav-dir-path" href="identifiers.html#components-label">Components/Label</a><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-Label">Label</a></span></span></li>
<li data-ice="doc"><a data-ice="dirPath" class="nav-dir-path" href="identifiers.html#components-login">Components/Login</a><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-Login">Login</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-Senha">Senha</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-Usuario">Usuario</a></span></span></li>
<li data-ice="doc"><a data-ice="dirPath" class="nav-dir-path" href="identifiers.html#components-ordenslista">Components/OrdensLista</a><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-OrdensLista">OrdensLista</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-ModalEdicao">ModalEdicao</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-ModalPausa">ModalPausa</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-ModalQuantidadeFinalizacao">ModalQuantidadeFinalizacao</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-OrdemEditando">OrdemEditando</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-OrdemFinalizar">OrdemFinalizar</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-OrdemPausada">OrdemPausada</a></span></span></li>
<li data-ice="doc"><a data-ice="dirPath" class="nav-dir-path" href="identifiers.html#components-ordenslista-modaleditar">Components/OrdensLista/ModalEditar</a><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-ModalEditar">ModalEditar</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-InputMatriculasEdicao">InputMatriculasEdicao</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-MatriculasEdicao">MatriculasEdicao</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-MesaEdicao">MesaEdicao</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-NumeroOPEdicao">NumeroOPEdicao</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-QuantidadeFuncionariosEdicao">QuantidadeFuncionariosEdicao</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-TurnoEdicao">TurnoEdicao</a></span></span></li>
<li data-ice="doc"><a data-ice="dirPath" class="nav-dir-path" href="identifiers.html#components-ordenslista-modalfinalizar">Components/OrdensLista/ModalFinalizar</a><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-ModalFinalizar">ModalFinalizar</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-LoadingFinalizacao">LoadingFinalizacao</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-QuantidadeProduzida">QuantidadeProduzida</a></span></span></li>
<li data-ice="doc"><a data-ice="dirPath" class="nav-dir-path" href="identifiers.html#components-ordenslista-modalpausacomponent">Components/OrdensLista/ModalPausaComponent</a><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-ModalPausaComponent">ModalPausaComponent</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-MotivoPausa">MotivoPausa</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-MotivoRetrabalho">MotivoRetrabalho</a></span></span></li>
<li data-ice="doc"><a data-ice="dirPath" class="nav-dir-path" href="identifiers.html#components-protectedroute">Components/ProtectedRoute</a><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-ProtectedRoute">ProtectedRoute</a></span></span></li>
<li data-ice="doc"><a data-ice="dirPath" class="nav-dir-path" href="identifiers.html#components-select">Components/Select</a><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-Select">Select</a></span></span></li>
<li data-ice="doc"><a data-ice="dirPath" class="nav-dir-path" href="identifiers.html#components-select-option">Components/Select/Option</a><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-Option">Option</a></span></span></li>
<li data-ice="doc"><a data-ice="dirPath" class="nav-dir-path" href="identifiers.html#components-titulo1">Components/Titulo1</a><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-Titulo1">Titulo1</a></span></span></li>
<li data-ice="doc"><a data-ice="dirPath" class="nav-dir-path" href="identifiers.html#components-titulo2">Components/Titulo2</a><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-Titulo2">Titulo2</a></span></span></li>
<li data-ice="doc"><a data-ice="dirPath" class="nav-dir-path" href="identifiers.html#components-titulo4">Components/Titulo4</a><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-Titulo4">Titulo4</a></span></span></li>
<li data-ice="doc"><a data-ice="dirPath" class="nav-dir-path" href="identifiers.html#controller">Controller</a><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/Controller/OrdensController.js~OrdensController.html">OrdensController</a></span></span></li>
<li data-ice="doc"><a data-ice="dirPath" class="nav-dir-path" href="identifiers.html#helpers">Helpers</a><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-Delay">Delay</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-tranformarDataEmString">tranformarDataEmString</a></span></span></li>
<li data-ice="doc"><a data-ice="dirPath" class="nav-dir-path" href="identifiers.html#paginas">Paginas</a><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-ControleProducao">ControleProducao</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-EscritaBotao">EscritaBotao</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-EscritaBotaoForm">EscritaBotaoForm</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-LocalStorage">LocalStorage</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-Ordens">Ordens</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-VisualizacaoForm">VisualizacaoForm</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-VisualizacaoOrdens">VisualizacaoOrdens</a></span></span></li>
<li data-ice="doc"><a data-ice="dirPath" class="nav-dir-path" href="identifiers.html#services">Services</a><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/Services/AtualizaRegistro.js~AtualizaRegistro.html">AtualizaRegistro</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/Services/CriarRegistro.js~CriarRegistro.html">CriarRegistro</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/Services/PegaRegistrosTabela.js~PegarRegistrosTabela.html">PegarRegistrosTabela</a></span></span></li>
</ul>
</div>
</nav>

<div class="content" data-ice="content"><h1 data-ice="title">src/Components/OrdensLista/OrdensLista.js</h1>
<pre class="source-code line-number raw-source-code"><code class="prettyprint linenums" data-ice="content">import styled from &quot;styled-components&quot;;
import Titulo4 from &quot;../Titulo4/Titulo4.js&quot;;
import Botao from &quot;../Botao/Botao.js&quot;;
//import { PegarOrdensNaoFinalizadas } from &quot;../../Services/PegarOrdensNaoFinalizadas.js&quot;;
import { useState } from &quot;react&quot;;
import Imagem from &quot;../Imagem/Imagem.js&quot;;
import ImagemEditar from &quot;../../images/caneta.png&quot;
import ModalFinalizar from &quot;./ModalFinalizar/ModalFinalizar.js&quot;;
import ModalPausaComponent from &quot;./ModalPausaComponent/ModalPausaComponent.js&quot;;
import ModalEditar from &quot;./ModalEditar/ModalEditar.js&quot;;
import tranformarDataEmString from &quot;../../Helpers/tranformarDataEmString.js&quot;;


/**
 * Componente section para servir de container dos outros componentes.
 */
const ContainerOrdens = styled.section`
    width:90%;
    background-color:white;
    border-radius:30px;
    display: flex;
    flex-direction:column;
    align-items:center;
`

/**
 * Componente de Lista.
 */
const OrdensUl = styled.ul`
    display:flex;
    align-items:center;
    justify-content:center;
    width: 95%;
    flex-direction:column;
    padding-inline-start: 0px;
    text-align:center;

`

/**
 * Componente linha da lista.
 */
const OrdensLi = styled.li`
    width: 100%;
    display:flex;
    align-items:center;
    padding:20px 10px;
    border:solid 0.5px black;
    border-radius:15px;
    margin:4px 4px;
    background-color: ${props =&gt; props.backgroundcolor || &apos;white&apos;};


`
/**
 * Componente utilizado para englobar informa&#xE7;&#xF5;es das ordens.
 */
const ItemLista = styled.div`
    width:25%;
    padding: 5px 5px;
    display:flex;
    flex-direction:column;
    align-items:center; 
    `

/**
 * Componente onde o dado referente a ordem &#xE9; escrito.
 */
const SpanOrdem = styled.span`
    font-size : 18px;
    color: white;
    background-color:black;
    width:100%;
    border-radius: 0px 0px 5px 5px;
    margin:0px 3px;


`

/**
 * Componente div para englobar componentes em linha alinhados na horizontal.
 */
const DivLinha = styled.div`
    display:flex;
    align-items:center;
    width:100%;
    justify-content:center;

`

/**
 * Estado que define a visualiza&#xE7;&#xE3;o do Componente ModalPausaComponent. 
 * @typedef {EstadoReact} ModalPausa
 * @property {boolean} ModalPausa True aparecer&#xE1; o modal de Pausa, false ocultar&#xE1; ele.
 * @property {React.Dispatch&lt;React.SetStateAction&lt;boolean&gt;&gt;} setModalPausa Fun&#xE7;&#xE3;o que define novo valor para o estado ModalPausa.
 */

/**
 * Estado que ao clicar para abrir modal de pausa, guarda informa&#xE7;&#xF5;es da ordem clicada para utilizar no modal.
 * @typedef {EstadoReact} OrdemPausada
 * @property {Object} OrdemPausada Objeto contendo os dados da ordem clicada para pausar.
 * @property {React.Dispatch&lt;React.SetStateAction&lt;Object&gt;&gt;} setOrdemPausada Fun&#xE7;&#xE3;o que define novo valor para OrdemPausada.
 */

/**
 * Estado que define a visualiza&#xE7;&#xE3;o do Componente ModalEditar. 
 * @typedef {EstadoReact} ModalEdicao
 * @property {boolean} ModalEdicao True aparecer&#xE1; o modal de Edi&#xE7;&#xE3;o, false ocultar&#xE1; ele.
 * @property {React.Dispatch&lt;React.SetStateAction&lt;boolean&gt;&gt;} setModalEdicao Fun&#xE7;&#xE3;o que define novo valor para o estado ModalEdicao.
 */

/**
 * Estado que ao clicar para abrir modal de edi&#xE7;&#xE3;o, guarda informa&#xE7;&#xF5;es da ordem clicada para utilizar no modal.
 * @typedef {EstadoReact} OrdemEditando
 * @property {Object} OrdemEditando Objeto contendo os dados da ordem clicada para editar.
 * @property {React.Dispatch&lt;React.SetStateAction&lt;Object&gt;&gt;} setOrdemEditando Fun&#xE7;&#xE3;o que define novo valor para OrdemEditando.
 */

/**
 * Estado que define a visualiza&#xE7;&#xE3;o do componente ModalFinalizar.
 * @typedef {EstadoReact} ModalQuantidadeFinalizacao
 * @property {boolean} ModalQuantidadeFinalizacao True aparecer&#xE1; o modal de Finaliza&#xE7;&#xE3;o da ordem, false ocultar&#xE1; ele.
 * @property {React.Dispatch&lt;React.SetStateAction&lt;boolean&gt;&gt;} setModalQuantidadeFinalizacao Fun&#xE7;&#xE3;o que define novo valor para o estado ModalQuantidadeFinalizacao.  
*/

/**
 * Estado que ao clicar para abrir modal de finaliza&#xE7;&#xE3;o, guarda informa&#xE7;&#xF5;es da ordem clicada para utilizar no modal.
 * @typedef {EstadoReact} OrdemFinalizar
 * @property {Object} OrdemFinalizar Objeto contendo os dados da ordem clicada para finalizar.
 * @property {React.Dispatch&lt;React.SetStateAction&lt;Object&gt;&gt;} setOrdemFinalizar Fun&#xE7;&#xE3;o que define novo valor para OrdemFinalizar.
 */

/**
 * 
 * @param {Object} props Props do componente.
 * @param {Array&lt;Object&gt;} props.ordens Estado &apos;Ordens&apos; proveninte do componente ControleProducao com as ordens que devem aparecer na lista com seus respectivos dados.
 * @param {React.Dispatch&lt;React.SetStateAction&lt;Array&lt;Object&gt;&gt;&gt;} props.setLocalStorage Fun&#xE7;&#xE3;o que define novo valor para o estado LocalStorage.
 * @returns {JSX.Element} Componente com uma lista mostrando os dados das ordens n&#xE3;o finalizadas.
 */
function OrdensLista({ ordens, setLocalStorage }) {

    /**
     * Estado que Define a visualiza&#xE7;&#xE3;o do modal de pausa.
     */
    const [ModalPausa, setModalPausa] = useState(false)
    /**
     * Estado que guarda os dados da ordem clicada para pausar.
     */
    const [OrdemPausada, setOrdemPausada] = useState({})
    /**
     * Estado que define a visualiza&#xE7;&#xE3;o do modal de edi&#xE7;&#xE3;o.
     */
    const [ModalEdicao, setModalEdicao] = useState(false)
    /**
     * Estado que guarda os dados da ordem clicada para editar.
     */
    const [OrdemEditando, setOrdemEditando] = useState({})
    /**
     * Estado que define a visualiza&#xE7;&#xE3;o do modal de finaliza&#xE7;&#xE3;o.
     */
    const [ModalQuantidadeFinalizacao, setModalQuantidadeFinalizacao] = useState(false)
    /**
     * Estado que guarda os dados da ordem clicada para Finalizar.
     */
    const [OrdemFinalizar, setOrdemFinalizar] = useState({})
    
    /**
     * Quando a ordem estiver pausada pega o ultimo motivo de pausa para mostrar escrito.
     * @param {string} motivos String com os motivos das pausas separados por &apos; , &apos; . 
     * @returns Retorna o ultimo motivo descrito na string.
     */
    function pegaUltimoMotivoPausa(motivos) {
        if (motivos) {
            const motivosArray = motivos.split(&apos;,&apos;)
            const ultimoMotivo = motivosArray[motivosArray.length - 1]
            return ultimoMotivo
        }
    }

    /**
     * Define o Estado ModalPausa como true ou false, quando definido para true define tamb&#xE9;m o estado OrdemPausada com os dados da ordem.
     * @param {Object} ordem Dados da ordem que ativou a fun&#xE7;&#xE3;o.
     */
    function HandleModalPausa(ordem) {
        if (ModalPausa === false) {
            setModalPausa(true)
            setOrdemPausada(ordem)
        }
        if (ModalPausa === true) {
            setModalPausa(false)
        }
    }

    /**
     * Define o Estado ModalEdicao como true ou false, quando definido para true define tamb&#xE9;m o estado OrdemEditando com os dados da ordem.
     * @param {Object} ordem Dados da ordem que ativou a fun&#xE7;&#xE3;o.
     */
    function HandleModalEdicao(ordem) {
        if (ModalEdicao === false) {
            setModalEdicao(true)
            setOrdemEditando(ordem)
        }
        if (ModalEdicao === true) {
            setModalEdicao(false)
        }
    }

    /**
     * Define o Estado ModalQuantidadeFinalizacao como true ou false, quando definido para true define tamb&#xE9;m o estado OrdemFinalizar com os dados da ordem.
     * @param {Object} ordem Dados da ordem que ativou a fun&#xE7;&#xE3;o.
     */
    function HandleModalQuantidadeFinalizacao(ordem) {
        if (ModalQuantidadeFinalizacao === false) {
            setModalQuantidadeFinalizacao(true)
            setOrdemFinalizar(ordem)
        }
        if (ModalQuantidadeFinalizacao === true) {
            setModalPausa(false)
        }
    }

    /**
     * Fun&#xE7;&#xE3;o ativada quando a ordem esta pausada e voltar&#xE1; para em andamento.
     * Funcionamento: 
     * Altera algumas informa&#xE7;&#xF5;es da ordem, status para &apos;Em Andamento&apos;, define horario_recomeco para data e hora atual, soma o tempo pausado a qnt_pausado e salva na localstorage.
     * Define o tempo pausado da ordem nos dados de pausasOrdens do localstorage.
     * @param {Object} ordem Dados da ordem que ativou a fun&#xE7;&#xE3;o.
     * @throws {Error} Quando n&#xE3;o encontra a ordem na localstorage.
     */
    function HandleRetornaPausa(ordem) {
        if (ordem.status === &apos;Pausado&apos;) {
            const ordensLocalStorage = JSON.parse(localStorage.getItem(&apos;ordensNaoFinalizadas&apos;)) || [];
            const ordemAtualIndex = ordensLocalStorage.findIndex(element =&gt; element.id === ordem.id);

            if (ordemAtualIndex !== -1) {
                //Atualiza os valores de horario_recome&#xE7;o, qnt_pausado e status da ordem.
                const ordemAtual = ordensLocalStorage[ordemAtualIndex];
                const dataRecomeco = new Date()
                const dataRecomecoString = tranformarDataEmString(dataRecomeco)
                const horarioPausa = `${ordemAtual[&apos;horario_pausa&apos;]}`
                const dateMiliseconds = Date.parse(horarioPausa)
                const dataPausa = new Date(dateMiliseconds + 10800000)
                const diferencaHorariosMiliSegundos = dataRecomeco - dataPausa
                ordemAtual[&apos;horario_recomeco&apos;] = dataRecomecoString
                ordemAtual[&apos;status&apos;] = &apos;Em Andamento&apos;
                if (ordem[&apos;qnt_pausado&apos;]) {
                    ordemAtual[&apos;qnt_pausado&apos;] = ordemAtual[&apos;qnt_pausado&apos;] + diferencaHorariosMiliSegundos
                } else {
                    ordemAtual[&apos;qnt_pausado&apos;] = diferencaHorariosMiliSegundos
                }
                ordensLocalStorage[ordemAtualIndex] = ordemAtual;
                localStorage.setItem(&apos;ordensNaoFinalizadas&apos;, JSON.stringify(ordensLocalStorage));
                setLocalStorage(ordensLocalStorage) 

                //Define o tempo pausado da ultima pausa desta ordem nos dados da localstorage pausasOrdens.
                const pausasLocalStorage = JSON.parse(localStorage.getItem(&apos;pausasOrdens&apos;)) || [];
                const pausasLocalStorageIndex = pausasLocalStorage.findIndex(element =&gt; element.id === ordem.id)
                if (pausasLocalStorageIndex !== -1) {
                    const ultimoIndice = pausasLocalStorage[pausasLocalStorageIndex].pausas.length - 1
                    pausasLocalStorage[pausasLocalStorageIndex].pausas[ultimoIndice][&apos;tempo_pausado&apos;] = diferencaHorariosMiliSegundos
                    localStorage.setItem(&apos;pausasOrdens&apos;, JSON.stringify(pausasLocalStorage))
                }

            } else {
                throw new Error(&apos;Ordem n&#xE3;o encontrada na localStorage.&apos;);
            }

        }
    }

    return (
        &lt;ContainerOrdens&gt;

            &lt;OrdensUl&gt;
                {
                    ordens.map((ordem, index) =&gt; (
                        &lt;OrdensLi backgroundcolor={ordem.status === &apos;Em Andamento&apos; ? &apos;#24ab92&apos; : &apos;#bf6b47&apos;} key={index}&gt;

                            &lt;ItemLista&gt;
                                &lt;Titulo4 backgroundcolor=&apos;white&apos; border_radius=&apos;5px 5px 0px 0px&apos; font_size=&apos;16px&apos;&gt;ORDEM PRODU&#xC7;&#xC3;O:&lt;/Titulo4&gt;
                                &lt;SpanOrdem&gt;{ordem.ordem_producao}&lt;/SpanOrdem&gt;
                            &lt;/ItemLista&gt;
                            &lt;ItemLista&gt;
                                &lt;Titulo4 backgroundcolor=&apos;white&apos; border_radius=&apos;5px 5px 0px 0px&apos; font_size=&apos;16px&apos;&gt;FUNCIONARIOS:&lt;/Titulo4&gt;

                                &lt;DivLinha&gt;
                                    {
                                        ordem.matriculas.map((matricula, index) =&gt; (
                                            &lt;SpanOrdem key={index}&gt;{matricula}&lt;/SpanOrdem&gt;
                                        ))
                                    }
                                &lt;/DivLinha&gt;

                            &lt;/ItemLista&gt;
                            &lt;ItemLista&gt;
                                &lt;Titulo4 backgroundcolor=&apos;white&apos; border_radius=&apos;5px 5px 0px 0px&apos; font_size=&apos;16px&apos;&gt;MESA:&lt;/Titulo4&gt;
                                &lt;SpanOrdem&gt;{ordem.mesa}&lt;/SpanOrdem&gt;
                            &lt;/ItemLista&gt;
                            &lt;ItemLista&gt;
                                &lt;Titulo4 backgroundcolor=&apos;white&apos; border_radius=&apos;5px 5px 0px 0px&apos; font_size=&apos;16px&apos;&gt;STATUS:&lt;/Titulo4&gt;
                                &lt;SpanOrdem&gt;{ordem.status}&lt;/SpanOrdem&gt;
                            &lt;/ItemLista&gt;
                            &lt;ItemLista&gt;
                                &lt;Titulo4 backgroundcolor=&apos;white&apos; border_radius=&apos;5px 5px 0px 0px&apos; font_size=&apos;16px&apos;&gt;TURNO:&lt;/Titulo4&gt;
                                &lt;SpanOrdem&gt;{ordem.turno}&lt;/SpanOrdem&gt;
                            &lt;/ItemLista&gt;
                            &lt;ItemLista&gt;
                                &lt;Titulo4 backgroundcolor=&apos;white&apos; border_radius=&apos;5px 5px 0px 0px&apos; font_size=&apos;16px&apos;&gt;MOTIVO DA PAUSA:&lt;/Titulo4&gt;
                                &lt;SpanOrdem&gt;{ordem.status === &quot;Pausado&quot; ? pegaUltimoMotivoPausa(ordem.motivos_das_pausas) : &apos;&apos;}&lt;/SpanOrdem&gt;
                            &lt;/ItemLista&gt;
                            &lt;ItemLista&gt;
                                &lt;Botao border=&apos;0.3px black solid&apos; boxshadow=&apos;2px 2px 2px 1px rgba(0, 0, 0, 0.2);&apos; padding=&apos;10px 5px&apos; border_radius=&apos;5px&apos; font_size=&apos;20px&apos; backgroundcolor={ordem.status === &apos;Em Andamento&apos; ? &apos;#DAA520&apos; : &apos;#00FA9A&apos;} onClick={async () =&gt; { ordem.status === &apos;Em Andamento&apos; ? HandleModalPausa(ordem) : HandleRetornaPausa(ordem) }} width=&apos;80%&apos;&gt;{ordem.status === &apos;Em Andamento&apos; ? &apos;PAUSAR&apos; : &apos;RETORNAR&apos;}&lt;/Botao&gt;
                            &lt;/ItemLista&gt;
                            &lt;ItemLista&gt;
                                &lt;Botao border=&apos;0.3px black solid&apos; boxshadow=&apos;2px 2px 2px 1px rgba(0, 0, 0, 0.2);&apos; padding=&apos;10px 5px&apos; border_radius=&apos;5px&apos; backgroundcolor=&apos;#FF6347&apos; color=&apos;black&apos; font_size=&apos;20px&apos; width=&apos;80%&apos; onClick={async () =&gt; await HandleModalQuantidadeFinalizacao(ordem)}&gt;FINALIZAR&lt;/Botao&gt;
                            &lt;/ItemLista&gt;
                            &lt;Botao padding=&apos;2px 2px&apos; backgroundcolor=&apos;rgb(0,0,0,0)&apos; color=&apos;black&apos; font_size=&apos;20px&apos; width=&apos;10%&apos; onClick={() =&gt; HandleModalEdicao(ordem)}&gt;&lt;Imagem src={ImagemEditar} width=&apos;60%&apos;&gt;&lt;/Imagem&gt;&lt;/Botao&gt;

                        &lt;/OrdensLi&gt;

                    )
                    )
                }
            &lt;/OrdensUl&gt;
            &lt;ModalPausaComponent
                setLocalStorage={setLocalStorage}
                ModalPausa={ModalPausa}
                setModalPausa={setModalPausa}
                OrdemPausada={OrdemPausada}
            /&gt;

            &lt;ModalFinalizar
                ModalQuantidadeFinalizacao={ModalQuantidadeFinalizacao}
                setModalQuantidadeFinalizacao={setModalQuantidadeFinalizacao}
                setLocalStorage={setLocalStorage}
                ordens={ordens}
                OrdemFinalizar={OrdemFinalizar}
            /&gt;

            &lt;ModalEditar
                setModalEdicao={setModalEdicao}
                setLocalStorage={setLocalStorage}
                ModalEdicao={ModalEdicao}
                ordens={ordens}
                OrdemEditando={OrdemEditando}

            /&gt;

        &lt;/ContainerOrdens&gt;
    )
}

export default OrdensLista</code></pre>

</div>

<footer class="footer">
  Generated by <a href="https://esdoc.org">ESDoc<span data-ice="esdocVersion">(1.1.0)</span><img src="./image/esdoc-logo-mini-black.png"></a>
</footer>

<script src="script/search_index.js"></script>
<script src="script/search.js"></script>
<script src="script/pretty-print.js"></script>
<script src="script/inherited-summary.js"></script>
<script src="script/test-summary.js"></script>
<script src="script/inner-link.js"></script>
<script src="script/patch-for-local.js"></script>
</body>
</html>
